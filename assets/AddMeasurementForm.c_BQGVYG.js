import{r as m,j as e,P as o,B as p,e as u}from"./index.DZessJXk.js";import{L as l,I as i}from"./label.DfvOp5uf.js";import{C as g,a as h,b as x,c as j}from"./card.ubZig5Uz.js";const C=({onAdd:c})=>{const[s,t]=m.useState({date:new Date().toISOString().split("T")[0],time:new Date().toTimeString().split(" ")[0],systolic:"",diastolic:"",glucose:"",pulse:""}),d=async a=>{if(a.preventDefault(),!s.systolic||!s.diastolic||!s.glucose||!s.pulse){u.error("Por favor, preencha todos os campos");return}const r={date:new Date(s.date).toISOString().split("T")[0],time:s.time.length===5?s.time+":00":s.time,systolic:parseInt(s.systolic),diastolic:parseInt(s.diastolic),glucose:parseInt(s.glucose),pulse:parseInt(s.pulse)};console.log("Payload enviado:",r);try{await c(r),t({date:new Date().toISOString().split("T")[0],time:new Date().toTimeString().split(" ")[0],systolic:"",diastolic:"",glucose:"",pulse:""})}catch(n){console.error("Erro ao adicionar medição:",n)}};return e.jsxs(g,{children:[e.jsx(h,{children:e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(o,{className:"w-5 h-5"}),"Nova Medição"]})}),e.jsx(j,{children:e.jsxs("form",{onSubmit:d,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"date",children:"Data"}),e.jsx(i,{id:"date",type:"date",value:s.date,onChange:a=>t({...s,date:a.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"time",children:"Hora"}),e.jsx(i,{id:"time",type:"time",value:s.time.slice(0,5),onChange:a=>t({...s,time:a.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"systolic",children:"Pressão Sistólica (mmHg)"}),e.jsx(i,{id:"systolic",type:"number",value:s.systolic,onChange:a=>t({...s,systolic:a.target.value}),placeholder:"Ex: 120"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"diastolic",children:"Pressão Diastólica (mmHg)"}),e.jsx(i,{id:"diastolic",type:"number",value:s.diastolic,onChange:a=>t({...s,diastolic:a.target.value}),placeholder:"Ex: 80"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"glucose",children:"Glicemia (mg/dL)"}),e.jsx(i,{id:"glucose",type:"number",value:s.glucose,onChange:a=>t({...s,glucose:a.target.value}),placeholder:"Ex: 95"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"pulse",children:"Pulso (bpm)"}),e.jsx(i,{id:"pulse",type:"number",value:s.pulse,onChange:a=>t({...s,pulse:a.target.value}),placeholder:"Ex: 72"})]})]}),e.jsxs(p,{type:"submit",className:"w-full",children:[e.jsx(o,{className:"w-4 h-4 mr-2"}),"Adicionar Medição"]})]})})]})};export{C as A};
