import{c as p,r as o,j as e,k as i,l as f,g as T,b as g,B as N,u as y,e as w}from"./index.DZessJXk.js";import{C as v,a as R,b as B,c as C}from"./card.ubZig5Uz.js";import{B as h}from"./badge.BP2hlKyN.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=p("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),u=o.forwardRef(({className:t,...s},a)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:a,className:i("w-full caption-bottom text-sm",t),...s})}));u.displayName="Table";const j=o.forwardRef(({className:t,...s},a)=>e.jsx("thead",{ref:a,className:i("[&_tr]:border-b",t),...s}));j.displayName="TableHeader";const b=o.forwardRef(({className:t,...s},a)=>e.jsx("tbody",{ref:a,className:i("[&_tr:last-child]:border-0",t),...s}));b.displayName="TableBody";const k=o.forwardRef(({className:t,...s},a)=>e.jsx("tfoot",{ref:a,className:i("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...s}));k.displayName="TableFooter";const m=o.forwardRef(({className:t,...s},a)=>e.jsx("tr",{ref:a,className:i("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",t),...s}));m.displayName="TableRow";const d=o.forwardRef(({className:t,...s},a)=>e.jsx("th",{ref:a,className:i("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...s}));d.displayName="TableHead";const l=o.forwardRef(({className:t,...s},a)=>e.jsx("td",{ref:a,className:i("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...s}));l.displayName="TableCell";const M=o.forwardRef(({className:t,...s},a)=>e.jsx("caption",{ref:a,className:i("mt-4 text-sm text-muted-foreground",t),...s}));M.displayName="TableCaption";function S(t){return new Date(t+"T00:00:00").toLocaleDateString("pt-BR")}function D(t){return new Date("2000-01-01T"+t).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}const L=({measurements:t,onDelete:s})=>{const{showStatus:a,showDeleteButtons:n}=f();return e.jsxs(v,{children:[e.jsx(R,{children:e.jsx(B,{children:"Histórico de Medições"})}),e.jsx(C,{children:e.jsx("div",{className:"rounded-md border",children:e.jsxs(u,{children:[e.jsx(j,{children:e.jsxs(m,{children:[e.jsx(d,{children:"Data"}),e.jsx(d,{children:"Hora"}),e.jsx(d,{children:"PA (mmHg)"}),e.jsx(d,{children:"Glicemia (mg/dL)"}),e.jsx(d,{children:"Pulso (bpm)"}),a&&e.jsx(d,{children:"Status"}),s&&n&&e.jsx(d,{className:"w-[50px]"})]})}),e.jsx(b,{children:t.map(r=>{const c=T(r.systolic,r.diastolic),x=g(r.glucose);return e.jsxs(m,{children:[e.jsx(l,{className:"font-medium",children:S(r.date)}),e.jsx(l,{children:D(r.time)}),e.jsxs(l,{children:[r.systolic,"/",r.diastolic]}),e.jsx(l,{children:r.glucose}),e.jsx(l,{children:r.pulse}),a&&e.jsx(l,{children:e.jsxs("div",{className:"flex gap-1 flex-wrap",children:[e.jsxs(h,{variant:c.variant,className:"text-xs px-1 py-0.5",children:["PA: ",c.label]}),e.jsxs(h,{variant:x.variant,className:"text-xs px-1 py-0.5",children:["Gli: ",x.label]})]})}),s&&n&&e.jsx(l,{children:e.jsx(N,{variant:"ghost",size:"icon",onClick:()=>s(r.id),className:"h-8 w-8 text-destructive hover:text-destructive hover:bg-destructive/10",children:e.jsx(H,{className:"h-4 w-4"})})})]},r.id)})})]})})})]})},E=()=>{const{measurements:t,deleteMeasurement:s}=y(),a=[...t].sort((r,c)=>{const x=new Date(`${r.date}T${r.time}`);return new Date(`${c.date}T${c.time}`).getTime()-x.getTime()}),n=r=>{s&&(s(r),w.success("Medição removida."))};return e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Histórico"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Todos os seus registros de medições"}),e.jsx(L,{measurements:a,onDelete:s?n:void 0})]})};export{E as default};
